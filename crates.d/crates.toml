# Master config file for crates in this workspace.
#
# This is a homegrown solution (I'm sorry) to a number of
# annoying problems with using workspaces. Cargo.toml files
# in this workspace are generated from source files that
# contain lines like this:
#
#     !!rsp2-assert-close
#     !!itertools
#
# When you run the following command in the workspace root:
#
#     ./crates gen
#
# Cargo.toml files are created with those lines expanded to e.g.
#
#     rsp2-assert-close = { path = "../../util/assert-close" }
#     itertools = "0.7"
#
# based on metadata in this file.

#--------------------------------------------
# Which crate represents the workspace?
root = "rsp2"

#--------------------------------------------
# Specification of all crates in the workspace and their
# paths relative to the root. The 'crates' script uses this
# information to generate the necessary relative paths
# to include when one crate in the workspace depends on
# another.
[crates]
rsp2                = "."
rsp2-lammps-wrap    = "src/lammps-wrap"
rsp2-tasks          = "src/tasks"
rsp2-minimize       = "src/minimize"
rsp2-phonopy-io     = "src/phonopy-io"
rsp2-array-utils    = "src/util/array"
rsp2-assert-close   = "src/util/assert-close"
rsp2-structure      = "src/structure"
rsp2-structure-gen  = "src/structure-gen"
rsp2-structure-io   = "src/util/structure-io"
rsp2-slice-math     = "src/util/slice-math"
rsp2-byte-tools-plus-float = "src/util/byte-tools-plus-float"
rsp2-util-macros    = "src/util/macros"
rsp2-tempdir        = "src/util/tempdir"
rsp2-linalg         = "src/math/linalg"
rsp2-fs-util        = "src/util/fs"
rsp2-clap = "src/util/clap"
rsp2-tasks-config = "src/tasks/config"
#!!INSERTION POINT FOR NEW CRATES!!#

#--------------------------------------------
# Versions for external dependencies, so that we don't have
# to look a whole bunch of them up every single time we make
# a new crate in the workspace.
#
# This also makes it easier to migrate the entire workspace
# to a new version of a dependency.
[preferred-versions]
clap = "2"
chrono = "0.4"
either = "1"
fern = "0.4"
env_logger = "0.4"
extension-trait = "0.1.2"
error-chain = "0.11"
itertools = "0.7"
lazy_static = "0.2"
log = "0.3"
ndarray = "0.10"
nom = "3"
num-traits = "0.1"
ordered-float = "0.5"
rand = "0.3"
serde = "1"
serde_derive = "1"
serde_json = "1"
serde_yaml = "0.7"
tempdir = "0.3"
ansi_term = "0.10"
slice-of-array = "0.1"
rsp2-kets = { version = "0.3.6", git = "https://github.com/ExpHP/rsp2-kets", features = ["serde"] }
lammps-sys = { tag = "v0.3.0", git = "https://github.com/ExpHP/lammps-sys" }
rayon = "0.8"
failure = "0.1.0"
failure_derive = "0.1.0"
vasp-poscar = "0.1.1"
